"use strict";const camposNaoListados=["orientacoesIdorientando","monitoriasIdmonitor","projetosPesqFinanciadorOutro","supervisoesCPFPosDoc","orientacoesExtIdentificacao","acoesTipoAcaoOutros","acoesAcaoCadastrada"],CHSemestrais=["disciplinaCHDisciplinasSemanal","atividadesComplementaresEnsinoCH","atividadesCoopIntCH","atividadesComplementaresPesquisaCH"],sectionNames={section_1:"Férias e afastamentos",section_2:"Atividades de Ensino",section_3:"Atividades de Pesquisa/Inovação",section_4:"Atividades de Extensão",section_5:"Atividades Administrativas"},sections={section_1:["ferias","afastamentos"],section_2:["disciplinas","orientacoes","monitorias","atividades-complementares-ensino"],section_3:["projetos-pesq","projetos-inov","atividades-cooperacao-internacional","supervisoes","atividades-complementares-pesquisa"],section_4:["acoes","orientacoes-ext"],section_5:["atividades-adm"]},containers={ferias:["feriasPeriodoInicio","feriasPeriodoFim"],afastamentos:["afastamentoPeriodo","afastamentoNumeroDias","afastamentoMotivo"],disciplinas:["disciplina","disciplinaCodigo","disciplinaNivel","disciplinaParticipacao","disciplinaCHDisciplinasSemanal"],"atividades-complementares-ensino":["atividadesComplementaresEnsinoTipo","atividadesComplementaresEnsinoDescricao","atividadesComplementaresEnsinoCH"],orientacoes:["orientacoesNomeorientando","orientacoesIdorientando","orientacoesNivel","orientacoesInstituicao","orientacoesNatureza","orientacoesCHOrientacao"],monitorias:["monitoriasNomemonitor","monitoriasIdmonitor","monitoriasCursoOrigem","monitoriasCHOrientacao"],"projetos-pesq":["projetosPesqTitulo","projetosPesqCoordenador","projetosPesqFinanciador","projetosPesqFinanciadorOutro","projetosPesqCH"],"projetos-inov":["projetosInovTitulo","projetosInovCoordenador","projetosInovFinanciador","projetosInovCH"],"atividades-cooperacao-internacional":["atividadesCoopIntAtividade","atividadesCoopIntDescricao","atividadesCoopIntCH"],supervisoes:["supervisoesNomePosDoc","supervisoesCPFPosDoc","supervisoesBolsaPosDoc","supervisoesCH"],"atividades-complementares-pesquisa":["atividadesComplementaresPesquisaTipo","atividadesComplementaresPesquisaDescricao","atividadesComplementaresPesquisaCH"],acoes:["acoesTitulo","acoesTipo","acoesTipoAcaoOutros","acoesCoordenador","acoesInstituicaoEnvolvida","acoesAcaoCadastrada","acoesSIGPROJ","acoesCH"],"orientacoes-ext":["orientacoesExtNome","orientacoesExtIdentificacao","orientacoesExtInstituicao","orientacoesExtCurso","orientacoesExtBolsa","orientacoesExtFinanciador","orientacoesExtCH"],"atividades-adm":["atividadesAdmCargo","atividadesAdmDescricao","atividadesAdmCH"]},nomesAmigaveis={ferias:"Férias",afastamentos:"Afastamentos",disciplinas:"Disciplinas",orientacoes:"Orientacoes",monitorias:"Monitorias","atividades-complementares-ensino":"Atividades complementares de ensino","projetos-pesq":"Projetos de pesquisa","projetos-inov":"Projetos de inovação","atividades-cooperacao-internacional":"Atividades de Cooperação Internacional",supervisoes:"Supervisões de pós-doutorado","atividades-complementares-pesquisa":"Atividades complementares de pesquisa e inovação",acoes:"Ações de Extensão","orientacoes-ext":"Orientações de Extensão","atividades-adm":"Atividades Administrativas",feriasPeriodoInicio:"Início do período",feriasPeriodoFim:"Final do período",afastamentoPeriodo:"Período de afastamento",afastamentoNumeroDias:"Número de dias",afastamentoMotivo:"Motivo",disciplina:" Nome",disciplinaCHDisciplinasSemanal:"CH semanal",disciplinaCodigo:"Código",disciplinaNivel:"Nível",disciplinaParticipacao:"Natureza da participação",atividadesComplementaresEnsinoDescricao:"Descrição da atividade",atividadesComplementaresEnsinoTipo:"Tipo",atividadesComplementaresEnsinoCH:"CH semanal",orientacoesCHOrientacao:"CH semanal",orientacoesIdorientando:"Identificação do orientando",orientacoesNivel:"Nível do orientando",orientacoesNomeorientando:"Nome",orientacoesInstituicao:"Instituição",orientacoesNatureza:"Natureza da atividade",monitoriasCHOrientacao:"CH semanal",monitoriasIdmonitor:"Identificação do monitor",monitoriasCursoOrigem:"Curso de origem do monitor",monitoriasNomemonitor:"Nome",projetosPesqTitulo:"Título",projetosPesqCH:"CH semanal",projetosPesqCoordenador:"Natureza da participação",projetosPesqFinanciador:"Financiador",projetosPesqFinanciadorOutro:"Outro Financiador",projetosInovTitulo:"Título",projetosInovCH:"CH semanal",projetosInovCoordenador:"Natureza da participação",projetosInovFinanciador:"Financiador",atividadesCoopIntAtividade:"Atividade",atividadesCoopIntCH:"CH semanal",atividadesCoopIntDescricao:"Descrição",supervisoesNomePosDoc:"Nome",supervisoesCPFPosDoc:"Identificação",supervisoesBolsaPosDoc:"Bolsa",supervisoesCH:"CH semanal",atividadesComplementaresPesquisaDescricao:"Descrição da atividade",atividadesComplementaresPesquisaTipo:"Tipo da atividade",atividadesComplementaresPesquisaCH:"CH semanal",acoesTitulo:"Título da ação",acoesTipo:"Tipo da ação",acoesTipoAcaoOutros:"ação de outra natureza",acoesCH:"CH semanal",acoesCoordenador:"Natureza da participação",acoesInstituicaoEnvolvida:"Instituições envolvidas",acoesAcaoCadastrada:"Cadastro no SIGPROJ?",acoesSIGPROJ:"Número SIGPROJ",orientacoesExtNome:"Nome",orientacoesExtInstituicao:"Instituição",orientacoesExtCurso:"Curso",orientacoesExtBolsa:"Bolsista",orientacoesExtFinanciador:"Agência de fomento",orientacoesExtCH:"CH semanal",orientacoesExtIdentificacao:"Identificação",atividadesAdmCargo:"Natureza do cargo",atividadesAdmDescricao:"Especificação e/ou descrição",atividadesAdmCH:"CH semanal"},financiamento="\n    <option disabled selected>Selecione uma opção:</option>\n    <option value='-'>sem financiamento</option>\n    <option value='capes'>CAPES</option>\n    <option value='cnpq'>CNPq</option>\n    <option value='faperj'>FAPERJ</option>\n    <option value='finep'>Finep</option>\n    <option value='ufrj'>UFRJ</option>\n    <option value='outros'>outros / varios</option>\n  ",bolsa="\n    <option disabled selected>Selecione uma opção:</option>\n    <option value='capes'>CAPES</option>\n    <option value='cnpq'>CNPq</option>\n    <option value='faperj'>FAPERJ</option>\n    <option value='finep'>Finep</option>\n    <option value='ufrj'>UFRJ</option>\n    <option value='outros'>outros</option>\n  ";let cargasHorariasParciais={total:0,parcial:{section_2:0,section_3:0,section_4:0,section_5:0}};const relatorioBase=(e,a,i)=>{let o="";if(planid.emEdicao)o=planid.emEdicao.semestre;else if(planid.ultimoRegistrado){if(planid.ultimoRegistrado.semestre!==semestre||planid.ultimoRegistrado.semestre!==proximoSemestre){const e="2"===planid.ultimoRegistrado.semestre.split("-")[1]?"1":"2";o=`${"2"===planid.ultimoRegistrado.semestre.split("-")[1]?+planid.ultimoRegistrado.semestre.split("-")[0]+1:planid.ultimoRegistrado.semestre.split("-")[0]}-${e}`}}else o=semestre;const n='\n  <svg class="a" viewBox="0 0 364.2 364.2"><defs><style>.a{fill:none;stroke-linecap:round;stroke-miterlimit:10;stroke-width:17px;}</style></defs><path d="M337.21,103.23a15.14,15.14,0,0,0,15.09-15.1V80.58a15.1,15.1,0,0,0-30.19,0v7.55A15.15,15.15,0,0,0,337.21,103.23Z"/><path d="M88.13,322.11H80.58a15.1,15.1,0,0,0,0,30.19h7.55a15.1,15.1,0,1,0,0-30.19Z"/><path d="M166.63,145.49a14.95,14.95,0,0,0-21.14,21.14l5.29,5.28a14.59,14.59,0,0,0,21.13,0,14.59,14.59,0,0,0,0-21.13Z"/><path class="a" d="M355.7,8.5C163.79,8.5,8.5,163.79,8.5,355.7"/></svg>\n  ';return`\n    <div class='overlay overlay-novo-planid opacidade-zero'>\n      <div class='janela'> \n        <div class='cabecalho'>\n          <h2 class='header planid-formulario-header'> ${i?"":"Preencher"} planid ${o} </h2>\n        </div>\n        <form class="formulario ${i}" id='planid-formulario' action="/planid/salvar-formulario" novalidate>\n          <input type='hidden' name='_csrf' value='${e}' >\n          <input type='hidden' name='autor' value='${a}' >\n          <input type='hidden' name='comentariosGerais' value='' >\n          <div>\n            <input type='hidden' name='semestre' value='${o}'>                       \n          </div>\n          <div class='form-steps'>\n            ${formStep(sectionNames.section_1,"1",!1,!0)}\n            ${formStep(sectionNames.section_2,"2",!0,!0)}\n            ${formStep(sectionNames.section_3,"3",!0,!0)}\n            ${formStep(sectionNames.section_4,"4",!0,!0)}\n            ${formStep(sectionNames.section_5,"5",!0,!1)}\n          </div>\n          <section class='section-planid section-1' data-section='1'>        \n            <h2>${sectionNames.section_1}</h2>\n            ${construirCampo("ferias","Férias","adicionar período")}          \n            ${construirCampo("afastamentos","Afastamentos","adicionar afastamento")} \n          </section>\n          <section class='section-planid opacidade-zero hidden section-2' data-section='2'>            \n            <div class='horas-semanais-parcial' title='carga horária parcial - ${sectionNames.section_2}'>\n              ${n}\n              <span class='horas-parciais-legenda'>CH seção</span>\n              <span class='section-planid__ch section-planid__ch-2 quantidade-horas'>0</span>\n            </div>\n            <h2>${sectionNames.section_2}</h2>\n            ${construirCampo("disciplinas","Disciplinas","adicionar disciplina",!0)}          \n            ${construirCampo("atividades-complementares-ensino","Atividades complementares","adicionar atividade",!0)}         \n            ${construirCampo("orientacoes","Orientações","adicionar orientacao")}\n            ${construirCampo("monitorias","Monitorias e apoio pedagógico","adicionar monitoria")} \n          </section>\n          <section class='section-planid opacidade-zero hidden section-3' data-section='3'>\n          <div class='horas-semanais-parcial' title='carga horária parcial - ${sectionNames.section_3}'>\n            ${n}\n            <span class='horas-parciais-legenda'>CH Seção</span>\n            <span class='section-planid__ch section-planid__ch-3 quantidade-horas'>0</span>\n          </div>\n            <h2>${sectionNames.section_3}</h2>\n            ${construirCampo("projetos-pesq","Projetos de pesquisa","adicionar projeto")}\n            ${construirCampo("projetos-inov","Projetos de inovação","adicionar projeto")}\n            ${construirCampo("supervisoes","Supervisão de pós-doutorandos","adicionar supervisão")}\n            ${construirCampo("atividades-cooperacao-internacional","Atividades de internacionalização","adicionar atividade")} \n            ${construirCampo("atividades-complementares-pesquisa","Atividades complementares","adicionar atividade")} \n          </section>  \n          <section class='section-planid opacidade-zero hidden section-4' data-section='4'>\n          <div class='horas-semanais-parcial' title='carga horária parcial - ${sectionNames.section_4}'>\n            ${n}\n            <span class='horas-parciais-legenda'>CH Seção</span>\n            <span class='section-planid__ch section-planid__ch-4 quantidade-horas'>0</span>\n          </div>\n            <h2>${sectionNames.section_4}</h2>\n            ${construirCampo("acoes","Ações de Extensão","adicionar ação")} \n            ${construirCampo("orientacoes-ext","Orientação de bolsistas PIBEX/PROFAEX ou IC ensino médio","adicionar orientação")} \n          </section> \n          <section class='section-planid opacidade-zero hidden section-5' data-section='5'>\n            <div class='horas-semanais-parcial' title='carga horária parcial - ${sectionNames.section_5}'>\n              ${n}\n              <span class='horas-parciais-legenda'>CH Seção</span>\n              <span class='section-planid__ch section-planid__ch-5 quantidade-horas'>0</span>\n            </div>\n            <h2>${sectionNames.section_5}</h2>\n            ${construirCampo("atividades-adm","Atividades administrativas","adicionar atividade")} \n          </section>  \n          <div class='btn-div btn-submit-planid-div'>\n            <i class='fa fa-bars abrir-menu-acoes'></i>\n            <div class='planid__icone-wrapper wrapper-imprimir-planid-btn' data-imprimir='${planid.emEdicao._id||""}' data-semestre='${o}'>\n              <i class='fa fa-print imprimir-planid-btn fa-fw'></i>  \n              <span>imprimir</span>\n            </div>\n            <div class='planid__icone-wrapper wrapper-enviar-mensagem-btn'>\n              <a href='/acompanhar-eventos/planid/${planid.emEdicao.autor}/${planid.emEdicao._id}' target='_blank' rel='noopener' rel='noreferrer'>\n                <i class='fa fa-envelope enviar-mensagem-btn fa-fw'></i>  \n              </a>\n              <span>mensagens</span>\n            </div>\n            <div class='planid__icone-wrapper wrapper-comentarios'>\n              <i class='fa fa-commenting-o comentarios-gerais fa-fw'></i>   \n              <span>comentarios</span>\n            </div>\n            <div class='horas-semanais'>\n              ${n}\n              <span class='quantidade-horas'>0.0</span>\n              <span class='horas-totais-legenda'>CH total</span>\n            </div>   \n            <label for='submit-planid' class='planid__icone-wrapper label-submit-planid'>\n              <div class='wrapper-salvar'>\n                <i class='fa fa-floppy-o fa-fw'></i>\n                <span>salvar</span>\n              </div>\n            </label>  \n            ${i?"":"\n              <div class='planid__icone-wrapper wrapper-enviar'>\n                <i class='fa fa-paper-plane-o icon-enviar-planid fa-fw'></i>\n                <span>enviar</span>\n              </div>"}\n\n            <input type="submit" id='submit-planid' class='hidden'>            \n            <span class='button-fechar sem-borda'>FECHAR</span>\n\n            <div class='planid__icone-wrapper wrapper-alerta-nao-preenchidos'>\n              <i class='fa fa-exclamation-triangle alerta-nao-preenchidos'></i>  \n              <span>há erros</span>\n            </div>\n          </div>   \n        </form>\n      </div>\n    </div>`},divNavegacaoPlanid="\n  <div class='div-navegacao-planid controles-direcionais-div centralizado fonte-titulo'>\n    <div class='btn-navegacao-planid btn-retornar oscilador-esquerda inativo filhos-inativos'><i class='fa fa-caret-left inativo'></i>retornar</div>\n    <div class='btn-navegacao-planid btn-avancar oscilador-direita filhos-inativos'>avançar<i class='fa fa-caret-right'></i></div>\n  </div> \n",construirCampo=(e,a,i,o)=>`\n    <div class='subsection-container fechado user-${e}'>      \n      <label class='subsection-header'>\n        <p class='subsection-title'>${a}:</p>\n        ${o?`<i class='fa fa-info' data-dica='${e}'></i>\n          <span class='dica'>Clique para orientações acerca do preenchimento desta seção.</span>            \n          `:""}\n      </label>       \n      ${btnAdicionar(`adicionar-${e}`,i)} \n      <div class='${e}-container atividade-container'></div>\n    </div>    \n  `,removerPendenciasAtividadeDeletada=e=>{const a=document.querySelector(".div-pendencias");if(a){const i=a.querySelectorAll("li"),o=document.querySelectorAll(`#${e.target.dataset.id} input, #${e.target.dataset.id} select, #${e.target.dataset.id} textarea`);for(let e=0;e<o.length;e++)for(let a=0;a<i.length;a++)o[e].id===i[a].dataset.campo&&(i[a].outerHTML="");a.querySelectorAll("li").length||(a.outerHTML="",document.querySelector(".alerta-nao-preenchidos").classList.remove("active"))}},btnAdicionar=(e,a)=>`\n    <div class="btn-acao ${e}">\n      <i class="fa fa-plus-circle" aria-hidden="true"></i>\n      <span>${a}</span>\n    </div>\n  `,montarListadisciplinasExternas=e=>{let a='<div class="disciplina-externa__div">';for(let i=0;i<e.length;i++)a+=`\n      <p class='disciplina-externa' data-nome='${e[i].nome}' data-codigo='${e[i].codigo}'><strong>${e[i].nome} - ${e[i].codigo}</strong></p>\n    `;return a+="</div>"},feriasDinamicas=()=>{inserirInput({nomeInput:"ferias",classes:"input-ferias",campoDinamico:e=>`   \n      <div class='field'>\n        <label for="ferias-inicio-${e}">\n          <p>Início do Período:</p>\n        </label>  \n        <input type="date" id="ferias-inicio-${e}" name="feriasPeriodoInicio" data-section='1' data-subsection='user-ferias' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div>  \n      <div class='field'>\n        <label for="ferias-fim-${e}">\n          <p>Fim do Período:</p>\n        </label> \n        <input type="date" id="ferias-fim-${e}" name="feriasPeriodoFim" data-section='1' data-subsection='user-ferias' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div> \n    `,container:".ferias-container",callbackPreDelete:removerPendenciasAtividadeDeletada})},afastamentosDinamicos=()=>{const e="afastamento";inserirInput({nomeInput:e,classes:"input-afastamento",campoDinamico:e=>`       \n      <div class='field'>\n        <label for="afastamento-${e}">\n          <p>Período do Afastamento:</p>\n        </label>  \n        <input type="text" id="afastamento-${e}" name="afastamentoPeriodo" data-section='1' data-subsection='user-afastamentos' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div>        \n      <div class='field'>\n        <label for="afastamento-dias-${e}">\n          <p>Número de dias:</p>\n        </label>\n        <input type="number" id="afastamento-dias-${e}" name="afastamentoNumeroDias" data-section='1' data-subsection='user-afastamentos' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div>\n      <div class='field field-textarea'>\n        <label for="afastamento-motivo-${e}">\n          <p>Motivo do Afastamento:</p>\n        </label>\n        <textarea id="afastamento-motivo-${e}" name="afastamentoMotivo" data-section='1' data-subsection='user-afastamentos' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required ></textarea>\n      </div>\n    `,container:".afastamentos-container",callbackPreDelete:removerPendenciasAtividadeDeletada})},disciplinasDinamicas=()=>{const e="disciplina",a=(e,a)=>{const i=e.split(" -- ");return a.target.parentElement.parentElement.nextElementSibling.querySelector("input").value=i[1],i[0]},i=({blurEvent:e,itemsArray:a,divItems:i})=>{const o=e.target.value,n=e.target.parentElement.nextElementSibling.querySelector("input"),t=e.target.parentElement.parentElement.previousElementSibling.querySelector("select").value;let s=!1;for(let o=0;o<a.length;o++){const t=a[o].split(" -- ")[1],d=a[o].toLowerCase().split(" -- ")[0]===e.target.value.toLowerCase().split(" -- ")[0];if(e.target.value&&t===n.value&&d){s=!0,e.target.value=a[o];const t=a[o].split(" -- ");n.value=t[1],document.querySelector(`${i}`)&&(document.querySelector(`${i}`).innerHTML="");break}}e.target.value?s||(variaveisGlobais.exibirMensagem("\n          <h3>Disciplina não cadastrada em sua Unidade. Deseja buscar em todas as Unidades?</h3>\n          <div class='button-div'>\n            <button class='btn-base' data-value='sim'>SIM</button>\n            <button class='btn-base' data-value='nao'>NÃO</button>\n          </div>\n          "),document.getElementById("mensagens-genericas").addEventListener("click",async a=>{if("nao"===a.target.dataset.value)variaveisGlobais.controlarVisibilidade("ocultar","#mensagens-genericas");else if("sim"===a.target.dataset.value){const a=await variaveisGlobais.ajax("/planids/recuperar-disciplina","GET",{string:o,nivel:t});if(a.length){const i=montarListadisciplinasExternas(a);variaveisGlobais.exibirMensagem(`\n                <h3>Clique sobre a disciplina que pretende adicionar ao planid:</h3>\n                ${i}               \n              `),document.getElementById("mensagens-genericas").addEventListener("click",a=>{a.target.dataset.nome&&(e.target.value=a.target.dataset.nome,n.value=a.target.dataset.codigo,variaveisGlobais.controlarVisibilidade("ocultar","#mensagens-genericas",!0))})}else variaveisGlobais.exibirMensagem("\n                <h3>Não foi localizada disciplina com o termo de busca em nossa base de dados.</h3>\n                <h3>O cadastramento de nova disciplina na base de dados do PLANID CCS deve ser solicitado à Direção da Unidade que a oferece.</h3>\n              ")}})):variaveisGlobais.exibirMensagem("<h3>É necessário informar o nome ou o código da disciplina</h3>",2e3,"Atenção!"),(a=>{if(a?e.target.value=e.target.value.split(" -- ")[0]:(e.target.value="",n.value=""),n.classList.contains("campo-vazio")){const a=e.target.id.split("-")[2];n.classList.remove("campo-vazio"),document.querySelector(`.campo-vazio-codigo-${a}`).outerHTML=""}})(s),document.querySelector(".div-pendencias")&&controlarExibicaoPendencias(),e.target.parentElement.querySelector(".localizar-disciplinas")&&(e.target.parentElement.querySelector(".localizar-disciplinas").outerHTML="")},o=({selectedItem:e,inputSelector:a,items:i,keyEvent:o})=>{document.querySelector(`${a}`).value=e?e.innerHTML:i[0].outerText;const n=document.querySelector(`${a}`).value.split(" -- ");o.target.value=n[0],o.target.parentElement.nextElementSibling.querySelector("input").value=n[1]},n=e=>arrayDisciplinas.filter(a=>a.split(" -- ")[2]===e),t=(e,t)=>{const d=`\n        <div class='field campo-disciplina'>\n          <label for="disciplina-${t}">\n            <p>Disciplina:</p>\n            <i class='fa fa-info'></i>\n            <span class='dica'>Informe nome ou código da disciplina</span>\n          </label>\n          <input type="text" id="disciplina-input-${t}" name="disciplina" data-section='2' data-subsection='user-disciplinas' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required autocomplete='off'>          \n          <div class='div-disciplinas div-disciplinas-${t}'></div>\n        </div> \n        <div class='field'>\n          <label for="codigo-${t}">\n            <p>Código:</p>\n          </label>\n          <input type="text" id="codigo-${t}" name="disciplinaCodigo" data-section='2' data-subsection='user-disciplinas' required >\n        </div>\n      `;"especializacao"!==e.target.value?(document.querySelector(`.campos-disciplina-${t}`).innerHTML=d,(async(e,t)=>{if(!arrayDisciplinas.length){const e=await variaveisGlobais.ajax("/planids/recuperar-disciplinas","GET",{unidade:planid.unidadePreenchimentoPlanid});arrayDisciplinas=formarArrayDisciplinas(e)}autoComplete({inputSelector:`#disciplina-input-${e}`,divItems:`.div-disciplinas-${e}`,itemClass:"item-autocompletar",itemsArray:n(t),clicouItem:a,inputPerdeuFoco:i,selecionouItemEnter:o})})(t,e.target.value),document.getElementById(`codigo-${t}`).classList.add("readonly"),document.getElementById(`codigo-${t}`).readonly=!0,document.getElementById(`codigo-${t}`).tabIndex="-1",document.getElementById(`disciplina-input-${t}`).addEventListener("input",e=>s(e,t))):(document.querySelector(`.campos-disciplina-${t}`).innerHTML=d,document.getElementById(`codigo-${t}`).classList.remove("readonly"),document.getElementById(`codigo-${t}`).readonly=!1,document.getElementById(`codigo-${t}`).tabIndex="0"),document.getElementById(`disciplina-input-${t}`).focus()},s=(e,a)=>{setTimeout(()=>{const i=document.getElementById(`disciplina-busca-${a}`),o=document.querySelector(`.div-disciplinas-${a}`).children.length;e.target.value.length>2&&!o?i||e.target.insertAdjacentHTML("afterend",`<i class='fa fa-search localizar-disciplinas' id='disciplina-busca-${a}'></i>`):i&&(i.outerHTML="")},150)};inserirInput({nomeInput:e,classes:"input-disciplina",campoDinamico:e=>`  \n      <div class='field'>\n        <label for='nivel-${e}'>\n          <p>Nível:</p>            \n        </label>\n        <select name="disciplinaNivel" id='nivel-${e}' data-section='2' data-subsection='user-disciplinas'  tabindex="-1" required >\n          <option disabled selected>Selecione uma opção:</option>\n          <option value='graduacao'>graduação</option>\n          <option value='especializacao'>Especialização</option>\n          <option value='mestrado'>Mestrado</option>\n          <option value='doutorado'>Doutorado</option>   \n          <option value='m/d'>Mestrado / Doutorado</option>\n        </select>\n      </div>\n\n      <div class='campos-disciplina-${e}'>\n        <div class='field campo-disciplina'>\n          <label for="disciplina-${e}">\n            <p>Disciplina:</p>\n            <i class='fa fa-info'></i>\n            <span class='dica'>Informe nome ou código da disciplina</span>\n          </label>\n          <input type="text" id="disciplina-input-${e}" name="disciplina" data-section='2' class='readonly' readonly tabIndex='-1' data-subsection='user-disciplinas' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required autocomplete='off'>          \n          <div class='div-disciplinas div-disciplinas-${e}'></div>\n        </div> \n        <div class='field campo-codigo-disciplina hidden'>\n          <label for="codigo-${e}">\n            <p>Código:</p>\n          </label>\n          <input type="text" id="codigo-${e}" name="disciplinaCodigo" data-section='2' data-subsection='user-disciplinas' class='readonly' readonly tabIndex='-1' required >\n        </div>      \n      </div>\n\n      <div class='field'>\n        <label for='participacao-${e}'>\n          <p>Participação:</p>            \n        </label>\n        <select name="disciplinaParticipacao" id='participacao-${e}' data-section='2' data-subsection='user-disciplinas' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n          <option disabled selected>Selecione uma opção:</option>\n          <option value='coordenador'>coordenador</option>\n          <option value='colaborador'>colaborador</option>\n          <option value='convidado'>convidado</option>\n        </select>\n      </div>\n      <div class='field field-ch'>\n        <label for="carga-semanal-${e}">\n          <p>Carga horária <span class='ch-semestral'>semestral</span> do docente:</p>\n          <i class='fa fa-info'> </i>\n          <span class='dica'>A carga horária total semestral ministrada pelo docente (em casos de disciplina compartilhada, não deve ser informada a carga horária total da disciplina).</span>\n        </label>\n        <input class='input-ch input-ch-disciplinas' type="number" id="carga-semanal-${e}" name="disciplinaCHDisciplinasSemanal" data-section='2' data-subsection='user-disciplinas' min='0' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div>\n    `,container:".disciplinas-container",callbackPreDelete:removerPendenciasAtividadeDeletada,listeners:[{elemento:"select[name=disciplinaNivel]",evento:"change",funcao:(e,a)=>t(e,a)}]})},atividadesComplementaresEnsinoDinamicas=()=>{const e="atividadesComplementaresEnsino";inserirInput({nomeInput:e,classes:"input-atividades-ensino",campoDinamico:a=>`   \n      <div class='field'>\n        <label for='atividade-complementar-ensino-tipo-${a}'>\n          <p>Tipo da atividade:</p>            \n        </label>\n        <select name="${e}Tipo" id='atividade-complementar-ensino-tipo-${a}' data-section='2' data-subsection='user-atividades-complementares-ensino' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n          <option disabled selected>Selecione uma opção:</option>\n          <option value='prep-aula'>Preparação de aulas/provas, etc.</option>\n          <option value='coord-disc'>Coordenador de Disciplina</option>\n          <option value='correcao-prova'>Correção/acompanhamento de provas/trabalhos/etc.</option>\n          <option value='atendimento-extra-classe'>Atendimento extraclasse ao Aluno</option>\n          <option value='correcao-tese'>Correção de Monografias/Dissertação/Teses</option>\n          <option value='participacao-bancas'>Participação em bancas como membro ou revisor</option>\n          <option value='atividades-fora'>Atividades fora da sede (bancas, aulas, representação...)</option>\n          <option value='outros'>Outros</option>\n        </select>   \n      </div>\n      <div class='field field-textarea'>\n        <label for="descricao-atividades-complementares-ensino-${a}">\n          <p>Descrição da atividade (obrigatório apenas se a atividade for tipificada como "outros"):</p>\n        </label>\n        <textarea id="descricao-atividades-complementares-ensino-${a}" name="${e}Descricao" data-section='2' data-subsection='user-atividades-complementares-ensino' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} ></textarea>\n      </div>\n      <div class='field field-ch'>\n        <label for="carga-horaria-atividades-complementares-ensino-${a}">\n          <p>Carga horária <span class='ch-semestral'>semestral</span>:</p>\n        </label>\n        <input class='input-ch input-ch-atividades-complementares-ensino' type="number" min='0' id="carga-horaria-atividades-complementares-ensino-${a}" name="${e}CH" data-section='2' data-subsection='user-atividades-complementares-ensino' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div>\n    `,container:".atividades-complementares-ensino-container",callbackPreDelete:removerPendenciasAtividadeDeletada})},dadosEstudante=(e,a,i)=>{let o;return"orientando"===i?o=`      \n        <label for='nivel-${i}-${e}'>\n          <p>Nível do curso do ${i}:</p>            \n        </label>\n        <select name="${a}Nivel" id='nivel-${i}-${e}' data-section='2' data-subsection='user-orientacoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n          <option disabled selected>Selecione uma opção:</option>\n          <option value='graduacao'>Graduação</option>\n          <option value='especializacao'>Especialização / Residência</option>\n          <option value='mestrado'>Mestrado</option>\n          <option value='doutorado'>Doutorado</option>\n        </select>       \n    `:"monitor"===i&&(o=`\n      <label for='cursoOrigem-${i}-${e}'>\n        <p>Curso no qual o ${i} atua:</p>            \n      </label>\n      <input type=text name="${a}CursoOrigem" id='cursoOrigem-${i}-${e}' data-section='2' data-subsection='user-monitorias' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n    `),`\n    <div class='field'>\n      <label for='nome-${i}-${e}'>\n        <p>Nome do ${i}:</p>            \n      </label>\n      <input type="text" id="nome-${i}-${e}" name="${a}Nome${i}" data-section='2' data-subsection='${"orientando"===i?"user-orientacoes":"user-monitorias"}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n    </div>\n    <div class='field identificacao-estudante'>\n      <label for='identificacao-${i}-${e}'>\n        <p>Identificação do ${i}:</p>   \n        <i class='fa fa-info'></i>  \n        <span class='dica'>DRE ou CPF</span>    \n        </label>\n      <input type="text" id="identificacao-${i}-${e}" name="${a}Id${i}" data-section='2' data-subsection='${"orientando"===i?"user-orientacoes":"user-monitorias"}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >  \n    </div>\n    <div class='field'>\n      ${o}\n    </div>\n    <div class='field field-ch'>\n      <label for='carga-horaria-${i}-${e}'>\n        <p>Carga horária de orientação semanal :</p>            \n      </label>\n      <input type="number" min='0' class='input-ch' id="carga-horaria-${i}-${e}" name="${a}CHOrientacao" data-section='2' data-subsection='user-orientacoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n    </div>`},instituicaoEstudante=(e,a)=>{const i="orientacoes"===a?"user-orientacoes":"user-orientacoes-ext";return`\n  <div class='instituicao-div field'>\n    <label><p>Instituição:</p></label>\n    <div>\n      <input type='radio' name='${a}-instituicao-radio-${e}' value='ufrj' id="instituicao-${a}-ufrj-${e}" data-subsection='${i}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} checked >      \n      <label for="instituicao-${a}-ufrj-${e}">\n        <span></span><p>UFRJ:</p>\n      </label>\n    </div>\n    <div>\n      <input type='radio' name='${a}-instituicao-radio-${e}' value='outros' id="instituicao-${a}-outros-${e}" data-subsection='${i}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} >  \n      <label for="instituicao-${a}-outros-${e}">\n        <span></span><p>Outras instituições:</p>\n      </label>\n    </div>\n    <div class='${a}-instituicao ${a}-instituicao-${e}'>\n      <input type='text' name='${a}Instituicao' value='ufrj' hidden data-subsection='${i}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'}>\n    </div>\n  </div>\n`},orientacoesDinamicas=()=>{const e="orientacoes";inserirInput({nomeInput:e,classes:"input-orientacoes",campoDinamico:a=>`  \n      <div class='field'>\n        <label for='orientacoesNatureza-${a}'><p>Natureza da atividade</p></label>\n        <select id='orientacoesNatureza-${a}' name=orientacoesNatureza data-section='2'>\n          <option disabled selected>Selecione uma opção:</option>\n          <option value='orientacao'>Orientação</option>\n          <option value='coorientacao'>Coorientação</option>\n        </select>\n      </div> \n      ${instituicaoEstudante(a,e)}\n      ${dadosEstudante(a,e,"orientando")}\n    `,container:".orientacoes-container",listeners:[{elemento:"input[value=outros]",evento:"change",funcao:e=>e.target.parentElement.parentElement.querySelector(".orientacoes-instituicao").innerHTML="    \n    <label><p>qual instituição?</p></label>\n    <input id='' type='text' data-section='2' name='orientacoesInstituicao' data-subsection='user-orientacoes'>    \n  "},{elemento:"input[value=ufrj]",evento:"change",funcao:e=>e.target.parentElement.parentElement.querySelector(".orientacoes-instituicao").innerHTML="<input type='text' name='orientacoesInstituicao' value='ufrj' hidden data-subsection='user-orientacoes'>"}],callbackPreDelete:removerPendenciasAtividadeDeletada})},monitoriasDinamicas=()=>{inserirInput({nomeInput:"monitorias",classes:"input-monitorias",campoDinamico:e=>`   \n      ${dadosEstudante(e,"monitorias","monitor")}\n    `,container:".monitorias-container",callbackPreDelete:removerPendenciasAtividadeDeletada})},projetosDinamicos=e=>{const a=`projetos${e.charAt(0).toUpperCase()}${e.slice(1)}`,i=`user-projetos-${e}`;inserirInput({nomeInput:a,classes:"input-projetos",campoDinamico:o=>`  \n      <div class='field'>\n        <label for='titulo-projeto-${e}-${o}'>\n          <p>Título do projeto:</p>            \n        </label>      \n        <input type="text" id="titulo-projeto-${e}-${o}" name="${a}Titulo" data-section='3' data-subsection='${i}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div> \n      <div class='field'>\n        <label for='coordenador-projeto-${e}-${o}'>\n          <p>Coordenador ou colaborador:</p>            \n        </label>      \n        <select id="coordenador-projeto-${e}-${o}" name="${a}Coordenador" data-section='3' data-subsection='${i}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n          <option disabled selected>Selecione uma opção:</option>\n          <option value='coordenador'>Coordenador</option>\n          <option value='colaborador'>Colaborador</option>\n        </select>      \n      </div>\n      <div class='field'>\n        <label for='financiador-projeto-${e}-${o}'>\n          <p>Órgão financiador:</p>            \n        </label> \n        <select id="financiador-projeto-${e}-${o}" name="${a}Financiador" data-section='3' data-subsection='${i}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n          ${financiamento}\n        </select>  \n      </div>\n\n      <div class='${a}-financiador-outro-${o} field' id='${a}-financiador-outro-${o}'>\n        <input type='text' name='${a}FinanciadorOutro' value='-' hidden data-subsection='${i}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'}>\n      </div>\n      \n      <div class='field field-ch'>\n        <label for='ch-projeto-${e}-${o}'>\n          <p>Carga horária semanal:</p>            \n        </label>      \n        <input type="number" min='0' class='input-ch' id="ch-projeto-${e}-${o}" name="${a}CH" data-section='3' data-subsection='${i}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div>\n    `,container:`.projetos-${e}-container`,listeners:[{elemento:`select[name=${a}Financiador]`,evento:"change",funcao:(e,o)=>{"outros"===e.target.value?document.querySelector(`.${a}-financiador-outro-${o}`).innerHTML=`\n              <div class='field'>\n                <label>\n                  <p>Qual(is) o(s) financiador(es)?</p>\n                  <i class='fa fa-info'></i>\n                  <span class='dica'>Para vários financiadores, separá-los por vírgulas</span>\n                </label>\n                <input type='text' name='${a}FinanciadorOutro' data-section='3' data-subsection='${i}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required>\n              </div>\n            `:document.querySelector(`.${a}-financiador-outro-${o}`).innerHTML=`\n            <input type='text' name='${a}FinanciadorOutro' value='-' hidden data-subsection='${i}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'}>`}}],callbackPreDelete:removerPendenciasAtividadeDeletada})},supervisoesDinamicas=()=>{const e="supervisoes";inserirInput({nomeInput:e,classes:"input-supervisoes",campoDinamico:e=>`  \n      <div class='supervisoes-div field'>\n        <div class='field'>\n          <label for='nome-pos-doc-${e}'>\n            <p>Nome do pós-doutorando:</p>            \n          </label>\n          <input type="text" id="nome-pos-doc-${e}" name="supervisoesNomePosDoc" data-section='3' data-subsection='user-supervisoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required > \n        </div>        \n        <div class='field identificacao-estudante'>\n          <label for='supervisoes-CPF-${e}'>\n            <p>CPF do pós-doutorando:</p>               \n          </label>\n          <input type="text" id="supervisoes-CPF-${e}" name="supervisoesCPFPosDoc" data-section='3' data-subsection='user-supervisoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >  \n        </div>\n        <div class='field'>\n          <label >\n            <p>O pós-doutorando recebe bolsa de estudos?</p>            \n          </label>\n          <div class='input-radio-div'>\n            <input type='radio' name='supervisoes-radio-bolsa-pos-doc-${e}' id='bolsa-posdoc-nao-${e}' data-section='3' data-subsection='user-supervisoes' value='nao' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} checked>\n            <label for='bolsa-posdoc-nao-${e}'>\n              <span></span><p>Não</p>\n            </label>\n            <input type='radio' name='supervisoes-radio-bolsa-pos-doc-${e}' id='bolsa-posdoc-sim-${e}' data-section='3' data-subsection='user-supervisoes' value='sim' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'}>\n            <label for='bolsa-posdoc-sim-${e}'>\n              <span></span><p>Sim</p>\n            </label>\n          </div>\n        </div>\n\n        <div class='supervisoes-bolsa field' id='supervisoes-bolsa-${e}'>\n          <input type='hidden' name='supervisoesBolsaPosDoc' value = '-' data-subsection='user-supervisoes'>\n        </div> \n\n        <div class='field field-ch'>\n          <label for='supervisoes-ch-${e}'>\n            <p>Carga horária semanal:</p>            \n          </label>      \n          <input type="number" min='0' class='input-ch' id="supervisoes-ch-${e}" name="supervisoesCH" data-section='3' data-subsection='user-supervisoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n        </div>        \n      </div>       \n    `,container:".supervisoes-container",listeners:[{elemento:"input[value=sim]",evento:"change",funcao:(e,a)=>{document.querySelector(`.supervisoes-div #supervisoes-bolsa-${a}`).innerHTML=`\n          <div class='field'>\n            <label><p>A bolsa é provida por qual agência?</p></label> \n            <select name="supervisoesBolsaPosDoc" id='agencia-bolsa-pos-doc-${a}' data-section='3' data-subsection='user-supervisoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n              ${bolsa}\n            </select>\n          </div>\n        `}},{elemento:"input[value=nao]",evento:"change",funcao:(e,a)=>{document.getElementById(`supervisoes-bolsa-${a}`).innerHTML="<input type='hidden' name='supervisoesBolsaPosDoc' value = '-' data-subsection='user-supervisoes'>"}}],callbackPreDelete:removerPendenciasAtividadeDeletada})},atividadesCoopIntDinamicas=()=>{const e="atividadesCoopInt";inserirInput({nomeInput:e,classes:"input-atividades-coop-int",campoDinamico:a=>`  \n      <div class='field'>\n        <label for='atividade-coop-int-atividade-${a}'>\n          <p>Atividade:</p>            \n        </label>      \n        <select id="atividade-coop-int-atividade-${a}" name="${e}Atividade" data-section='3' data-subsection='user-atividades-cooperacao-internacional' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >       \n          <option disabled selected>Selecione uma opção:</option>\n          <option value='trabalho no exterior'>missão de trabalho no exterior com ou sem palestra</option>\n          <option value='receber visitantes estrangeiros'>receber docentes ou discentes visitantes estrangeiros</option>      \n          <option value='participação de cursos'>participação de cursos/simpósios em instituição internacional</option>         \n          <option value='realização de cursos'>realização de cursos/simpósios com participação de público estrangeiro na UFRJ</option>         \n          <option value='outras'>outras (especificar)</option> \n        </select>   \n      </div> \n      <div class='field field-textarea'>\n        <label for='atividade-coop-int-descricao-${a}'>\n          <p>Especificação / Descrição da atividade:</p>            \n        </label>      \n        <textarea id="atividade-coop-int-descricao-${a}" name="${e}Descricao" data-section='3' data-subsection='user-atividades-cooperacao-internacional' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} ></textarea>     \n      </div>  \n      <div class='field'>\n        <label for='atividade-coop-int-ch-${a}'>\n          <p>Carga horária <span class='ch-semestral'>semestral</span>:</p>            \n        </label>      \n        <input type="number" min='0' class='input-ch' id="atividade-coop-int-ch-${a}" name="${e}CH" data-section='3' data-subsection='user-atividades-cooperacao-internacional' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div>\n    `,container:".atividades-cooperacao-internacional-container",callbackPreDelete:removerPendenciasAtividadeDeletada})},atividadesComplementaresPesquisaDinamicas=()=>{const e="atividadesComplementaresPesquisa";inserirInput({nomeInput:e,classes:"input-atividades-pesquisa",campoDinamico:a=>`      \n        <div class='field'>\n          <label for='atividade-complementar-pesquisa-tipo-${a}'>\n            <p>Tipo da atividade:</p>            \n          </label>\n          <select name="${e}Tipo" id='atividade-complementar-pesquisa-tipo-${a}' data-section='3' data-subsection='user-atividades-complementares-pesquisa' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n            <option disabled selected>Selecione uma opção:</option>\n            <option value='prep-proj'>Preparação de projetos para editais de financiamento</option>\n            <option value='pareceres-fomento'>Pareceres para órgãos de fomentos à pesquisa/revistas científicas</option>\n            <option value='outros'>Outros</option>        \n          </select>            \n        </div>\n        <div class='field field-textarea'>\n          <label for="descricao-atividades-complementares-pesquisa-${a}">\n            <p>Descrição da atividade:</p>\n          </label>\n          <textarea id="descricao-atividades-complementares-pesquisa-${a}" name="${e}Descricao" data-section='3' data-subsection='user-atividades-complementares-pesquisa'  ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} ></textarea>\n        </div>\n        <div class='field field-ch'>\n          <label for="carga-horaria-atividades-pesquisa-${a}">\n            <p>Carga horária <span class='ch-semestral'>semestral</span>:</p>\n          </label>\n          <input type="number" min='0' class='input-ch' id="carga-horaria-atividades-pesquisa${a}" name="${e}CH" data-section='3' data-subsection='user-atividades-complementares-pesquisa'  ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n        </div>\n    `,container:".atividades-complementares-pesquisa-container",callbackPreDelete:removerPendenciasAtividadeDeletada})},acoesDinamicas=()=>{inserirInput({nomeInput:"acoes",classes:"input-acoes",campoDinamico:e=>`      \n      <div class='field'>\n        <label for='acao-titulo-${e}'>\n          <p>Título da ação:</p>            \n        </label>      \n        <input type="text" id="acao-titulo-${e}" name="acoesTitulo" data-section='4' data-subsection='user-acoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div>\n      <div class='field'>\n        <label for='acao-tipo-${e}'>\n          <p>Tipo da ação:</p>            \n        </label>\n        <select name="acoesTipo" id='acao-tipo-${e}' data-section='4' data-subsection='user-acoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n          <option disabled selected>Selecione uma opção:</option>\n          <option value='evento'>evento</option>\n          <option value='curso'>curso</option>\n          <option value='projeto'>projeto</option>        \n          <option value='programa'>programa</option>        \n          <option value='outros'>outros</option>        \n        </select>  \n      </div>\n\n      <div class='tipo-acao-outros field' id='tipo-acao-outros-${e}'>\n        <input id='tipo-acao-${e}' type='hidden' name='acoesTipoAcaoOutros' value = '-'>\n      </div>\n\n      <div class='field'>\n        <label for='acao-coordenador-${e}'>\n          <p>Coordenador ou colaborador:</p>            \n        </label>    \n        <select id="acao-coordenador-${e}" name="acoesCoordenador" data-section='4' data-subsection='user-acoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n          <option disabled selected>Selecione uma opção:</option>\n          <option value='coordenador'>Coordenador</option>\n          <option value='colaborador'>Colaborador</option>\n        </select>\n      </div>\n      <div class='field'>\n        <label for='acao-instituicao-${e}'>\n          <p>Instituição(ões) envolvida(s):</p>            \n        </label>      \n        <input type="text" id="acao-instituicao-${e}" name="acoesInstituicaoEnvolvida" data-section='4' data-subsection='user-acoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div>\n      <div class='field'>\n        <label for='acao-cadastrada-${e}'>\n          <p>Ação cadastrada no SIGPROJ?</p>            \n        </label>\n        <select name='acoesAcaoCadastrada' id='acao-cadastrada-${e}' data-section='4' data-subsection='user-acoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'}>\n          <option disabled selected>Selecione uma opção:</option>\n          <option value='sim'>sim</option>\n          <option value='nao'>não</option>\n        </select>          \n      </div>\n      \n      <div class='numero-sigproj field' id='numero-sigproj-${e}'>\n        <input type='hidden' name='acoesSIGPROJ' value = '-'>\n      </div> \n      \n      <div class='field field-ch'>\n        <label for='ch-acao-${e}'>\n          <p>Carga horária semanal:</p>            \n        </label>      \n        <input type="number" min='0' class='input-ch' id="ch-acao-${e}" name="acoesCH" data-section='4' data-subsection='user-acoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div>\n    `,container:".acoes-container",listeners:[{elemento:"select[name=acoesAcaoCadastrada]",evento:"change",funcao:(e,a)=>{let i;i="sim"===e.target.value?`\n            <label for='acao-sigproj-${a}'>\n              <p>Número SIGPROJ:</p>            \n            </label>\n            <input type='text' id="acao-sigproj-${a}" name="acoesSIGPROJ" data-section='4' data-subsection='user-acoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >`:"<input type='hidden' name='acoesSIGPROJ' value = '-' data-subsection='user-acoes'>",document.getElementById(`numero-sigproj-${a}`).innerHTML=i}},{elemento:"select[name=acoesTipo]",evento:"change",funcao:(e,a)=>{let i;i="outros"===e.target.value?`\n            <label for='tipo-acao-${a}'>\n              <p>Tipo da ação:</p>            \n            </label>\n            <input type='text' id="tipo-acao-${a}" name="acoesTipoAcaoOutros" data-section='4' data-subsection='user-acoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required>\n          `:`<input id='tipo-acao-${a}' type='hidden' name='acoesTipoAcaoOutros' value = '-'>`,document.getElementById(`tipo-acao-outros-${a}`).innerHTML=i}}],callbackPreDelete:removerPendenciasAtividadeDeletada})},orientacoesExtDinamicas=()=>{const e="orientacoesExt";inserirInput({nomeInput:e,classes:"input-orientacoes-ext",campoDinamico:a=>`\n      <div class='orientacoes-ext-div field'>\n        <div class='field'>\n          <label for='orientacoes-ext-nome-${a}'>\n            <p>Nome do extensionista:</p>            \n          </label>\n          <input type="text" id="orientacoes-ext-nome-${a}" name="${e}Nome" data-section='4' data-subsection='user-orientacoes-ext' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n        </div>\n\n        <div class='field identificacao-estudante'>\n          <label for='identificacao-ext-${a}'>\n            <p>Identificação do extensionista:</p>   \n            <i class='fa fa-info'></i>  \n            <span class='dica'>DRE ou CPF</span>    \n            </label>\n          <input type="text" id="identificacao-ext-${a}" name="orientacoesExtIdentificacao" data-section='4' data-subsection='user-acoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >  \n        </div>\n\n        <div class='field'>\n          ${instituicaoEstudante(a,e)}\n        </div>\n        <div class='field'>\n          <label for='orientacoes-ext-curso-${a}'>\n            <p>Curso de origem do extensionista:</p>            \n          </label>\n          <input type=text name="orientacoesExtCurso" id='orientacoes-ext-curso-${a}' data-section='4' data-subsection='user-orientacoes-ext' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n        </div>\n        <div class='field'>\n          <label for='bolsa-ext-${a}'>\n            <p>O extensionista recebe bolsa de estudos?</p>            \n          </label>\n          <select name='${e}Bolsa' id='bolsa-ext-${a}' data-section='4' data-subsection='user-orientacoes-ext' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'}>\n            <option disabled selected>Selecione uma opção:</option>\n            <option value='sim'>sim</option>\n            <option value='nao'>não</option>\n          </select>\n        </div>\n\n          <div class='${e}-financiador ${e}-financiador-${a} field'>\n            <input type='hidden' name='${e}Financiador' data-subsection='user-orientacoes-ext' id='${e}-financiador-${a}' value = '-'>\n          </div>           \n        \n        <div class='field field-ch'>\n          <label for='ch-${e}-${a}'>\n            <p>Carga horária semanal:</p>            \n          </label>      \n          <input type="number" class='input-ch' id="ch-${e}-${a}" name="${e}CH" data-section='4' data-subsection='user-orientacoes-ext' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n        </div>\n      </div>\n    `,container:".orientacoes-ext-container",listeners:[{elemento:"input[value=outros]",evento:"change",funcao:(a,i)=>{document.querySelector(`.${e}-instituicao-${i}`).innerHTML="    \n      <label><p>qual instituição?</p></label>\n      <input id='' type='text' data-section='4' name='orientacoesExtInstituicao' data-subsection='user-orientacoes-ext'>    \n    "}},{elemento:"input[value=ufrj]",evento:"change",funcao:(a,i)=>{document.querySelector(`.${e}-instituicao-${i}`).innerHTML="<input type='text' name='orientacoesExtInstituicao' value='ufrj' hidden data-subsection='user-orientacoes-ext'>"}},{elemento:`select[name=${e}Bolsa]`,evento:"change",funcao:(a,i)=>{"sim"===a.target.value?document.querySelector(`.${e}-financiador-${i}`).innerHTML=`\n              <label><p>A bolsa é provida por qual agência?</p></label> \n              <select name="${e}Financiador" id='${e}-financiador-${i}' data-section='4' data-subsection='user-orientacoes-ext' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n                ${bolsa}\n              </select>\n            `:document.querySelector(`.${e}-financiador-${i}`).innerHTML=`<input type='hidden' id='${e}-financiador-${i}' name='${e}Financiador' value = '-' data-subsection='user-orientacoes-ext'>`}}],callbackPreDelete:removerPendenciasAtividadeDeletada})},atividadesAdmDinamicas=()=>{inserirInput({nomeInput:"atividadesAdm",classes:"input-atividades-adm",campoDinamico:e=>`   \n      <div class='field'>\n        <label for='atividade-adm-cargo-${e}'>\n          <p>Cargo:</p>            \n        </label>      \n        <select id="atividade-adm-cargo-${e}" name="atividadesAdmCargo" data-section='5' data-subsection='user-atividades-adm' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >       \n          <option disabled selected>Selecione uma opção:</option>\n          <option value='adm-sup'>Administração Superior (Reitoria)</option>\n          <option value='adm-med'>Administração Média (Decania)</option>\n          <option value='diretoria'>Diretorias</option>      \n          <option value='coordenacao'>Coordenações</option> \n          <option value='chefia'>Chefias</option> \n          <option value='comissao'>Participação em Comissões</option> \n          <option value='outros'>Atividades de Administração de outra natureza</option>           \n        </select> \n      </div>\n      <div class='field field-textarea'>\n        <label for='atividade-adm-descricao-${e}'>\n          <p>Especificação / Descrição da atividade:</p>            \n        </label>      \n        <textarea id="atividade-adm-descricao-${e}" name="atividadesAdmDescricao" data-section='5' data-subsection='user-atividades-adm' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required ></textarea>   \n      </div>\n      <div class='field field-ch'>  \n        <label for='atividade-adm-ch-${e}'>\n          <p>Carga horária semanal:</p>            \n        </label>      \n        <input type="number" class='input-ch' id="atividade-adm-ch-${e}" name="atividadesAdmCH" data-section='5' data-subsection='user-atividades-adm' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n      </div>\n    `,container:".atividades-adm-container",callbackPreDelete:removerPendenciasAtividadeDeletada})},removerPlanidDOM=()=>{variaveisGlobais.controlarVisibilidade("ocultar",".overlay-novo-planid"),setTimeout(()=>{document.querySelector(".overlay-novo-planid").outerHTML="",document.querySelector("body").classList.remove("fixo")},500)},inserirCabecalho=(e,a)=>{const i=document.querySelector(".overlay-novo-planid .janela"),o=`\n    <div class='cabecalho-planid'>\n      <div>\n        <img class='marca-ccs' src='/img/marca.svg'>\n        <h2>Planid ${a}</h2>\n      </div>\n      <h2>${e.nome.split(" ")[0]} ${e.nome.split(" ").pop()}</h2> \n      <span class='fechar-planid'>&times;</span>\n    </div>\n    <div class='cabecalho-print'>\n    <div class='marca-ccs-planid-print__container'>\n      <img class='marca-ccs-planid-print' src='/img/marca.svg'>\n    </div>\n      <h2>Plano de atividades docentes ${a}</h2>\n      <div class='cabecalho-print__dados'>\n        <h2>${e.nome}</h2>\n        <p>Unidade: ${document.querySelector("input[name=unidade]").value}</p>\n        <p>Carga horária semanal planejada: ${somarCargaHoraria(document.querySelectorAll(".input-ch")).toFixed(1)} horas</p>\n      </div>\n    </div>\n  `;i.insertAdjacentHTML("afterbegin",o),i.querySelector(".fechar-planid").addEventListener("click",removerPlanidDOM)},removerFormsteps=()=>{document.querySelector(".form-steps").outerHTML=""},removerBotoesAdicionarAtividade=()=>{const e=document.querySelectorAll(".btn-acao");for(let a=0;a<e.length;a++)e[a].outerHTML=""},exibirSecoes=()=>{const e=document.querySelectorAll(".section-planid");for(let a=0;a<e.length;a++)e[a].classList.remove("hidden"),e[a].classList.remove("opacidade-zero")},removerBotoesExcluirAtividade=()=>{const e=document.querySelectorAll(".box-cinza .fa-times-circle");for(let a=0;a<e.length;a++)e[a].outerHTML=""},removerIconesControle=()=>{document.querySelector(".comentarios-gerais")&&(document.querySelector(".comentarios-gerais").outerHTML="")},indicarCamposVazios=()=>{const e=document.querySelectorAll(".atividade-container");for(let a=0;a<e.length;a++)e[a].innerHTML||(e[a].innerHTML="<div class='box-cinza sem-atividades'><p>Sem atividades registradas</p></div>")},ajustarExibicaoPlanid=e=>{inserirCabecalho(e.autor,e.semestre),document.querySelector(".form-steps").outerHTML="",removerBotoesAdicionarAtividade(),exibirSecoes(),removerBotoesExcluirAtividade(),document.querySelector(".comentarios-gerais")&&(document.querySelector(".comentarios-gerais").outerHTML=""),indicarCamposVazios(),e.eventos.length&&adicionarEventos(e.eventos,{elementoInsercao:"#planid-formulario",posicao:"afterend"}),adicionarAcoesPlanid(e)},somarCargaHoraria=e=>{let a=0;for(let i=0;i<e.length;i++)e[i].value<=0?e[i].value="":e[i].classList.contains("input-ch-disciplinas")?a+=+e[i].value/semanasAula:"atividadesComplementaresEnsinoCH"===e[i].name||"atividadesCoopIntCH"===e[i].name||"atividadesComplementaresPesquisaCH"===e[i].name?a+=+e[i].value/semanasAula:a+=+e[i].value;return a},calcularCargaHorariaTotal=e=>{if(e&&e.target.classList.contains("input-ch")||!e){const e=document.querySelectorAll(".input-ch");planid.cargaHorariaTotal=somarCargaHoraria(e),setTimeout(()=>{document.querySelector(".horas-semanais .quantidade-horas").innerHTML=`${planid.cargaHorariaTotal.toFixed(1)}`},50),+planid.cargaHorariaTotal.toFixed(0)!==planid.CHIdeal?document.querySelector(".horas-semanais").classList.add("fora-da-faixa"):document.querySelector(".horas-semanais ").classList.remove("fora-da-faixa")}},calcularCargaHorariaParcial=e=>{let a,i,o=0;e&&e.target.dataset.section?(a=document.querySelectorAll(`.section-${e.target.dataset.section}`),i=e.target.dataset.section):e&&!e.target.dataset.section?(a=document.querySelectorAll(`.section-${e.target.parentElement.parentElement.parentElement.parentElement.dataset.section}`),i=e.target.parentElement.parentElement.parentElement.parentElement.dataset.section):e||(a=document.querySelectorAll(".section-planid")),setTimeout(()=>{for(let n=0;n<a.length;n++){e||(i=n+1);const t=a[n].querySelectorAll(".input-ch");o=somarCargaHoraria(t),document.querySelector(`.section-planid__ch-${i}`)&&(document.querySelector(`.section-planid__ch-${i}`).innerHTML=o.toFixed(1))}},600)},calcularCargaHoraria=e=>{cargasHorariasParciais={total:0,parcial:{section_2:0,section_3:0,section_4:0,section_5:0}};const a=Object.entries(e);for(let i=0;i<a.length;i++){let o;if(a[i][0].includes("CH")&&e[a[i][0]].length){const n=e[a[i][0]];for(let t=0;t<n.length;t++)CHSemestrais.includes(a[i][0])&&(o=e[a[i][0]][t]/semanasAula),computarCargasHorariasParciais(a[i][0],o||+e[a[i][0]][t])}}},gerarPlanidEmBranco=()=>{const e={},a=Object.values(containers);for(let i=0;i<a.length;i++)for(let o=0;o<a[i].length;o++)e[a[i][o]]=[];return e},preencherPlanid=e=>{e.comentariosGerais&&(document.querySelector("input[name=comentariosGerais]").value=e.comentariosGerais);const a=Object.entries(containers);for(let i=0;i<a.length;i++)for(let o=0;o<a[i][1].length;o++){for(let n=0;n<e[a[i][1][o]].length;n++)document.querySelector(`.adicionar-${a[i][0]}`).click();break}for(let i=0;i<a.length;i++)for(let o=0;o<a[i][1].length;o++)if(e[a[i][1][o]].length){const n=a[i][1][o],t=e[a[i][1][o]];for(let a=0;a<t.length;a++)if("orientacoesInstituicao"===n&&"ufrj"!==t[a]?(document.querySelectorAll(`.orientacoes-container [name=orientacoes-instituicao-radio-${t.length-1-a}]`)[1].checked=!0,document.querySelectorAll(".orientacoes-container .orientacoes-instituicao")[a].innerHTML=`\n              <label><p>qual?</p></label>\n              <input type="text" name="orientacoesInstituicao" data-section='2' value='${t[a]}'>\n            `):"orientacoesExtInstituicao"===n&&"ufrj"!==t[a]?(document.querySelectorAll(`[name=orientacoesExt-instituicao-radio-${t.length-1-a}]`)[1].checked=!0,document.querySelectorAll(".orientacoesExt-instituicao")[a].innerHTML=`\n                <label><p>qual?</p></label>\n                <input type="text" name="orientacoesExtInstituicao" data-section='4' value='${t[a]}'>\n              `):"orientacoesExtBolsa"===n&&"sim"===t[a]?(getSelectedOption(document.querySelectorAll(`#bolsa-ext-${t.length-1-a} option`),"sim"),document.querySelectorAll(".orientacoesExt-financiador")[a].innerHTML=`\n            <label><p>A bolsa é provida por qual agência?</p></label> \n            <select name="orientacoesExtFinanciador" id='orientacoesExt-financiador-${t.length-1-a}' data-section="3" ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >\n            ${bolsa}\n            </select>\n            `):"supervisoesBolsaPosDoc"===n&&"-"!==t[a]?(document.querySelectorAll(`[name=supervisoes-radio-bolsa-pos-doc-${t.length-1-a}]`)[1].checked=!0,document.querySelectorAll(".supervisoes-bolsa")[a].innerHTML=`\n              <label><p>A bolsa é provida por qual agência?</p></label> \n              <select name="supervisoesBolsaPosDoc" id='agencia-bolsa-pos-doc-${t.length-1-a}' data-section='3'  ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required value=${t[a]} >\n                ${bolsa}\n              </select>\n            `,getSelectedOption(document.querySelectorAll(`#agencia-bolsa-pos-doc-${t.length-1-a} option`),t[a])):"projetosPesqFinanciador"===n&&"outros"===t[a]?(getSelectedOption(document.querySelectorAll(`#financiador-projeto-pesq-${t.length-1-a} option`),t[a]),document.getElementById(`projetosPesq-financiador-outro-${t.length-1-a}`).innerHTML=`\n              <label><p>Qual o financiador?</p></label>\n                <input type='text' name='projetosPesqFinanciadorOutro' data-section='3' value='${e.projetosPesqFinanciadorOutro[a]}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required>  \n            `):"projetosInovFinanciador"===n&&"outros"===t[a]?(getSelectedOption(document.querySelectorAll(`#financiador-projeto-inov-${t.length-1-a} option`),t[a]),document.getElementById(`projetosInov-financiador-outro-${t.length-1-a}`).innerHTML=`\n              <label><p>Qual o financiador?</p></label>\n                <input type='text' name='projetosInovFinanciadorOutro' data-section='3' value='${e.projetosInovFinanciadorOutro[a]}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required>  \n            `):"acoesTipo"===n&&"outros"===t[a]?(getSelectedOption(document.querySelectorAll(`#acao-tipo-${t.length-1-a} option`),t[a]),document.getElementById(`tipo-acao-outros-${t.length-1-a}`).innerHTML=`\n              <label for='tipo-acao-${t.length-1-a}'>\n                <p>Tipo da ação:</p>            \n              </label>\n              <input type='text' id="tipo-acao-${t.length-1-a}" name="acoesTipoAcaoOutros" data-section='4' data-subsection='user-acoes' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required>\n            `):"acoesAcaoCadastrada"===n&&"sim"===t[a]?(getSelectedOption(document.querySelectorAll(`#acao-cadastrada-${t.length-1-a} option`),t[a]),document.getElementById(`numero-sigproj-${t.length-1-a}`).innerHTML=`\n            <label for='acao-sigproj-${t.length-1-a}'>\n              <p>Número SIGPROJ:</p>            \n            </label>\n            <input type='text' id="acao-sigproj-${t.length-1-a}" name="acoesSIGPROJ" data-section='4' data-subsection='user-acoes' value='${e.acoesSIGPROJ[a]}' ${planid.emEdicao.homologado&&'readonly tabindex="-1"'} required >  \n            `):document.querySelectorAll(`[name=${n}]`)[a].value=t[a],"disciplinaNivel"===n&&"especializacao"===t[a]){document.querySelectorAll(`[name=${n}]`)[a].parentElement.parentElement.querySelector(".campo-codigo-disciplina").classList.remove("hidden")}}calcularCargaHorariaTotal(),calcularCargaHorariaParcial()},listenersBotoesFormulario=()=>{document.querySelector(".adicionar-ferias").addEventListener("click",feriasDinamicas),document.querySelector(".adicionar-afastamentos").addEventListener("click",afastamentosDinamicos),document.querySelector(".adicionar-disciplinas").addEventListener("click",disciplinasDinamicas),document.querySelector(".adicionar-atividades-complementares-ensino").addEventListener("click",atividadesComplementaresEnsinoDinamicas),document.querySelector(".adicionar-orientacoes").addEventListener("click",orientacoesDinamicas),document.querySelector(".adicionar-monitorias").addEventListener("click",monitoriasDinamicas),document.querySelector(".adicionar-projetos-inov").addEventListener("click",()=>projetosDinamicos("inov")),document.querySelector(".adicionar-projetos-pesq").addEventListener("click",()=>projetosDinamicos("pesq")),document.querySelector(".adicionar-supervisoes").addEventListener("click",supervisoesDinamicas),document.querySelector(".adicionar-atividades-cooperacao-internacional").addEventListener("click",atividadesCoopIntDinamicas),document.querySelector(".adicionar-atividades-complementares-pesquisa").addEventListener("click",atividadesComplementaresPesquisaDinamicas),document.querySelector(".adicionar-acoes").addEventListener("click",acoesDinamicas),document.querySelector(".adicionar-orientacoes-ext").addEventListener("click",orientacoesExtDinamicas),document.querySelector(".adicionar-atividades-adm").addEventListener("click",atividadesAdmDinamicas)};